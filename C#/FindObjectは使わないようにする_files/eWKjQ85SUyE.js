/*!CK:2218014463!*//*1448917209,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bQKH3"]); }

__d('XUIDialogOkayButton.react',['cx','fbt','React','XUIDialogButton.react','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'XUIDialogOkayButton',propTypes:{action:j.oneOf(['confirm','cancel','button']).isRequired},render:function(){return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers._extends({},this.props,{className:c('joinClasses')(this.props.className,"_2z1w"),action:this.props.action,label:i._("OK")})));}});f.exports=k;},null);
__d('SelectorDeprecated',['Arbiter','Button','ContextualLayer','CSS','DataStore','DOM','Event','Focus','HTML','Keys','MenuDeprecated','Parent','Style','Toggler','TooltipData','URI','Vector','arrayContains','emptyFunction','getDocumentScrollElement'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j=[],k;function l(w){return c('Parent').byClass(w,'uiSelector');}function m(w){return c('Parent').byClass(w,'uiSelectorButton');}function n(){if(!i){i=new (c('ContextualLayer'))({position:'below'},c('DOM').create('div'));c('CSS').addClass(i.getRoot(),'uiSelectorContextualLayer');}return i;}function o(w){return c('DOM').scry(w,'select')[0];}function p(w){return c('DOM').find(w,'div.uiSelectorMenuWrapper');}var q=function(){q=c('emptyFunction');c('MenuDeprecated').subscribe('select',function(w,x){if(!h||!x||x.menu!==v.getSelectorMenu(h))return;var y=r(h),z=s(x.item);if(z){var aa=h,ba=v.isOptionSelected(x.item),ca=v.inform('select',{selector:aa,option:x.item,clone:k});if(ca===false)return;if(y||!ba){v.setSelected(aa,v.getOptionValue(x.item),!ba);v.inform('toggle',{selector:aa,option:x.item});v.inform('change',{selector:aa});c('Arbiter').inform('Form/change',{node:aa});if(t(aa))c('DataStore').set(aa,'dirty',true);}}if(!y||!z)h&&v.toggle(h);});};function r(w){return !!w.getAttribute('data-multiple');}function s(w){return c('CSS').hasClass(w,'uiSelectorOption');}function t(w){return !!w.getAttribute('data-autosubmit');}var u=function(){u=c('emptyFunction');var w={keydown:function(event){var x=event.getTarget();if(c('DOM').isInputNode(x))return;switch(c('Event').getKeyCode(event)){case c('Keys').DOWN:case c('Keys').SPACE:case c('Keys').UP:if(m(x)){var y=l(x);v.toggle(y);return false;}break;case c('Keys').ESC:if(h){var z=v.getSelectorButton(h);v.toggle(h);z&&c('Focus').set(z);return false;}break;}},mouseover:function(event){var x=c('Parent').byAttribute(event.getTarget(),'ajaxify');if(x&&c('CSS').hasClass(x,'uiSelectorButton'))v.loadMenu(l(x));}};c('Event').listen(document.body,w);};c('Toggler').subscribe(['show','hide'],function(w,x){var y=l(x.getActive());if(y){u();q();var z=v.getSelectorButton(y),aa=v.getSelectorMenu(y),ba=w==='show';z.setAttribute('aria-expanded',ba?'true':'false');if(ba){h=y;if(c('CSS').hasClass(z,'uiButtonDisabled')){v.setEnabled(y,false);return false;}aa=aa||v.loadMenu(y);var ca=c('Style').getScrollParent(y),da=ca!==window&&ca!==c('getDocumentScrollElement')();if(da||c('CSS').hasClass(y,'uiSelectorUseLayer')){if(da)j.push(c('Event').listen(ca,'scroll',function(){x.hide();}));k=c('DOM').create('div',{className:y.className});c('CSS').addClass(k,'invisible_elem');c('Vector').getElementDimensions(y).setElementDimensions(k);c('DOM').replace(y,k);var ea=c('CSS').hasClass(y,'uiSelectorRight'),fa=c('CSS').hasClass(y,'uiSelectorBottomUp');n().setContext(k).setContent(y).setPosition(fa?'above':'below').setAlignment(ea?'right':'left').show();}c('MenuDeprecated').register(aa);var ga=c('MenuDeprecated').getCheckedItems(aa);if(!ga.length)ga=c('MenuDeprecated').getEnabledItems(aa);if(ga.length)c('MenuDeprecated').focusItem(ga[0]);}else{h=null;if(k){while(j.length)j.pop().remove();c('DOM').replace(k,y);n().hide();k=null;}aa&&c('MenuDeprecated').unregister(aa);if(t(y)&&c('DataStore').get(y,'dirty')){var ha=c('DOM').scry(y,'input.submitButton')[0];ha&&ha.click();c('DataStore').remove(y,'dirty');}}c('CSS').conditionClass(v.getSelectorButton(y),'selected',ba);v.inform(ba?'open':'close',{selector:y,clone:k});}});var v=Object.assign(new (c('Arbiter'))(),{attachMenu:function(w,x,y){w=l(w);if(w){h&&c('MenuDeprecated').unregister(v.getSelectorMenu(h));c('DOM').setContent(p(w),x);h&&c('MenuDeprecated').register(v.getSelectorMenu(w));k&&n().updatePosition();if(y){var z=w.getAttribute('data-name');z&&y.setAttribute('name',z);if(!r(w))y.setAttribute('multiple',false);var aa=o(w);if(aa){c('DOM').replace(aa,y);}else c('DOM').insertAfter(w.firstChild,y);}return true;}},getOption:function(w,x){var y=v.getOptions(w),z=y.length;while(z--)if(x===v.getOptionValue(y[z]))return y[z];return null;},getOptions:function(w){var x=c('MenuDeprecated').getItems(v.getSelectorMenu(w));return x.filter(s);},getEnabledOptions:function(w){var x=c('MenuDeprecated').getEnabledItems(v.getSelectorMenu(w));return x.filter(s);},getSelectedOptions:function(w){return c('MenuDeprecated').getCheckedItems(v.getSelectorMenu(w));},getOptionText:function(w){return c('MenuDeprecated').getItemLabel(w);},getOptionValue:function(w){var x=l(w),y=o(x),z=v.getOptions(x).indexOf(w);return z>=0?y.options[z+1].value:'';},getSelectorButton:function(w){return c('DOM').find(w,'a.uiSelectorButton');},getSelectorMenu:function(w){return c('DOM').scry(w,'div.uiSelectorMenu')[0];},getValue:function(w){var x=o(w);if(!x)return null;if(!r(w))return x.value;var y=[],z=x.options;for(var aa=1,ba=z.length;aa<ba;aa++)if(z[aa].selected)y.push(z[aa].value);return y;},isOptionSelected:function(w){return c('MenuDeprecated').isItemChecked(w);},listen:function(w,x,y){return this.subscribe(x,function(z,aa){if(aa.selector===w)return y(aa,z);});},loadMenu:function(w,x){var y=v.getSelectorMenu(w);if(!y){var z=v.getSelectorButton(w),aa=z.getAttribute('ajaxify');if(aa){e(['AsyncRequest'],(function(ca){var da=new (c('URI'))(aa),ea=da.getQueryData();da.setQueryData({});var fa=new ca(da).setData(ea).setNectarModuleDataSafe(z).setRelativeTo(z);x&&fa.setFinallyHandler(function(){setTimeout(x,0);});fa.send();}).bind(this));var ba=c('HTML')('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');c('DOM').appendContent(z.parentNode,ba);y=v.getSelectorMenu(w);z.removeAttribute('onmouseover');}}else x&&x();return y;},setButtonLabel:function(w,x){var y=v.getSelectorButton(w),z=parseInt(y.getAttribute('data-length'),10);x=x||y.getAttribute('data-label')||'';c('Button').setLabel(y,x);if(typeof x==='string')if(z&&x.length>z){y.setAttribute('title',x);}else y.removeAttribute('title');},setButtonTooltip:function(w,x){var y=v.getSelectorButton(w),z=c('Parent').byTag(y,'a');z&&c('TooltipData').set(z,x||y.getAttribute('data-tooltip')||'');},setEnabled:function(w,x){if(!x&&h&&l(w)===h)v.toggle(w);c('Button').setEnabled(v.getSelectorButton(w),x);},setOptionEnabled:function(w,x){c('MenuDeprecated').setItemEnabled(w,x);},setSelected:function(w,x,y){y=y!==false;var z=v.getOption(w,x);if(!z)return;var aa=v.isOptionSelected(z);if(y!==aa){if(!r(w)&&!aa){var ba=v.getSelectedOptions(w)[0];ba&&c('MenuDeprecated').toggleItem(ba);}c('MenuDeprecated').toggleItem(z);}v.updateSelector(w);},toggle:function(w){c('Toggler').toggle(c('DOM').scry(l(w),'div.wrap')[0]);},updateSelector:function(w){var x=v.getOptions(w),y=v.getSelectedOptions(w),z=o(w).options,aa=[],ba=[];for(var ca=0,da=x.length;ca<da;ca++){var ea=c('arrayContains')(y,x[ca]);z[ca+1].selected=ea;if(ea){var fa=v.getOptionText(x[ca]);aa.push(fa);ba.push(x[ca].getAttribute('data-tooltip')||fa);}}z[0].selected=!y.length;var ga=c('CSS').hasClass(w,'uiSelectorDynamicLabel'),ha=c('CSS').hasClass(w,'uiSelectorDynamicTooltip');if(ga||ha){var ia='';if(r(w)){var ja=v.getSelectorButton(w);ia=ja.getAttribute('data-delimiter')||', ';}aa=aa.join(ia);ba=ba.join(ia);ga&&v.setButtonLabel(w,aa);ha&&v.setButtonTooltip(w,ba);}}});f.exports=v;},null);