if(! window.NT_RMD_AUD_ITEMS){window.NT_RMD_AUD_ITEMS = {};};(function(item){window.NT_RMD_AUD_ITEMS[item.source_key] = item;if(window.NT_RMD_AUD_CORE_ENGINE){window.NT_RMD_AUD_CORE_ENGINE.run();}})({"id":77828,"user_id":19535,"source_key":"a1dbe206f7c509a0b73afa3a80170641","rss_feeds":[{"id":67886,"site_url":"http://kan-kikuchi.hatenablog.com/","site_title":"(:3[kanのメモ帳]","favicon":"http://cdn.image.st-hatena.com/image/favicon/c21e5a502653d67bdc522bbb84d211149048707e/version=1/http%3A%2F%2Fcdn.mogile.archive.st-hatena.com%2Fv1%2Fimage%2Fkan_kikuchi%2F297789263919182453.png"}],"html_template":null,"carousel_settings":null,"popup_settings":null,"recommends":[{"id":1073318898,"title":"テクスチャの使用メモリを176MB減らしてみた【Unity】","rssid":67886,"url":"http://kan-kikuchi.hatenablog.com/entry/ReduceMemory","images":["http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151125/20151125134300.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151126/20151126133528.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151126/20151126133606.jpg","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151126/20151126134652.jpg","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151126/20151126134118.jpg","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151125/20151125135407.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151125/20151125135511.png"],"defaultimage":null,"content":"この記事でのバージョン Unity 5.2.2f1 Personal Xcode 7.1 はじめに ある時、作ってるゲームのメモリ使用量を確認したらえらい事になっていました。 使用メモリ 331MB 主な原因はテクスチャで、単純に量も多いしサイズも大きかったのですが、色々と改善したら使用メモリを結構減らす事が出来たので、今回はその方法をまとめた記事です。 この記事でのバージョン Unity 5.2.2f1 Personal Xcode 7.1 はじめに ある時、作ってるゲームのメモリ使用量を確認したらえらい事になっていました。 使用メモリ 331MB 主な原因はテクスチャで、単純に量も多いしサイズも大きかったのですが、 色々と改善したら使用メモリを結構減らす事が出来たので、今回はその方法をまとめた記事です。 使用メモリの確認方法 今回、使用メモリの確認はXcodeで行いました。 確認方法はアプリ実行中に、左側のメニューからMemoryを選ぶだけです。 なお、使用した端末はiPhone 6s Plusです。 Xcode以外にも以下のようなものを使って確認する方法もあります。 AllocationStats - Unify Community Wiki テクスチャの設定 何はともあれテクスチャの設定が重要です。 Read/Write Enabled テクスチャデータにスクリプトからアクセスできるようにする項目ですが、 なんと、これを有効にしていると必要なメモリ量が倍になります。 作成されたテクスチャデータは、テクスチャアセットとして必要なメモリ量は倍となります。必ず必要な場合のみ使用してください。 普通は無効になっているはずなのですが、以前これを自動で有効にしてしまってました。 必要な時だけ有効にしましょう。 Max Size 画像の最大サイズを決めるMax Sizeも出来るだけ小さくした方がもちろんいいです。 NGUIのアトラスならサイズを小さくしても、劣化するだけで表示するサイズは変わらないので 気にならない範囲で小さくしましょう。 間違っても1色の背景に1024とか指定しないように、 すいませんすいません。 というか1色なら画像の必要すらないという……。 Format Formatも重要で、使用する画像によって最適なものを選ぶ必要があります。 間違っても全部Tru","date":1448839738,"like":10,"rt":0,"hateb":2,"sitename":"(:3[kanのメモ帳]","subimage":"http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151125/20151125134300.png","display_order":0},{"id":1077456067,"title":"素材系のおすすめAsset38選【Unity】【アセット】","rssid":67886,"url":"http://kan-kikuchi.hatenablog.com/entry/Asset40","images":["http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213171948.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213172513.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213173206.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213173615.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213174232.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213175239.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213175836.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213180031.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213181106.png"],"defaultimage":null,"content":"目次 目次 はじめに BGM Hitori Yubin Sound Pack Game Music Pack - SUITE RPG BGM Pack for Unity Game Music Pack JAPANESE SAMURAI MUSIC PACK Grand Orchestra Collection Vol.1 Orchestral RPG Music Set SE Universal Sound FX Game Sound FX Pack 500+Magic SoundFX GameMusicSound - Weapon Sounds Pack Katana Sound SFX … 目次 目次 はじめに BGM Hitori Yubin Sound Pack Game Music Pack - SUITE RPG BGM Pack for Unity Game Music Pack JAPANESE SAMURAI MUSIC PACK Grand Orchestra Collection Vol.1 Orchestral RPG Music Set SE Universal Sound FX Game Sound FX Pack 500+Magic SoundFX GameMusicSound - Weapon Sounds Pack Katana Sound SFX UI & Item Sound Effect Jingles Coin SFX Win Lose Music Jingles 2Dキャラクター 2D Creature Pack 2D Character Pack 2D Samurai Soccer Pack 2D Fantasy Art Assets Full Pack Character Pack: Warriors 3Dモデル \"Unity-chan!\" Model Cu Cat, Cu Puppy Game Asset Studio CrossRoad_kimys2848 ONE OR EIGHT inc Coin Set 01 (Mobile) エフェクト Cartoon FX Pack FX Quest Dynamic Elements Effect Pack Quest and RPG FX Realistic Effec","date":1450307512,"like":2,"rt":0,"hateb":9,"sitename":"(:3[kanのメモ帳]","subimage":"http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151213/20151213223653.png","display_order":0},{"id":1073318901,"title":"最近アプデorリリースしたアプリのサイズがiOS9では大きく表記されている件【iOS】","rssid":67886,"url":"http://kan-kikuchi.hatenablog.com/entry/BokuranoDooorz","images":["http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117202737.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117202659.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117202707.png","http://cdn.image.st-hatena.com/image/scale/b5704f5549f904215e8b30837db9082788d68d85/enlarge=0;height=200;version=1;width=200/http%3A%2F%2Fis4.mzstatic.com%2Fimage%2Fthumb%2FPurple69%2Fv4%2Fbc%2Fa9%2Fd3%2Fbca9d37d-fc6e-e579-d2c2-676c44c71330%2Fsource%2F100x100bb.jpg","/images/theme/itunes/itunes-badge-appstore@2x.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117203553.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117203843.png","http://cdn.image.st-hatena.com/image/scale/a21da43f871420e16a5663134efcea2ed88d3414/enlarge=0;height=200;version=1;width=200/http%3A%2F%2Fis1.mzstatic.com%2Fimage%2Fthumb%2FPurple69%2Fv4%2Fc5%2Fe1%2Fd6%2Fc5e1d6a0-0007-0d28-b987-fa38c505127a%2Fsource%2F100x100bb.jpg","/images/theme/itunes/itunes-badge-appstore@2x.png"],"defaultimage":null,"content":"はじめに タイトルの通りなのですが、どうやら2015年11月15日付近にアプデorリリースしたアプリのサイズが大きく表記されているっぽいです。 例えば2015年11月15日にアップデートされた「ぼくらの秘密基地」というアプリでは、Mac、iOS7のiPhone、iOS9のiPhoneそれぞれで確認した場合、iOS9だけ3倍以上のサイズとなっています。 Mac iOS7 iOS9 ぼくらの秘密基地COCOSOLA Inc.ゲーム無料 さらに謎なのが、表記上100MBを超えているのに4G回線でダウンロード出来てしまいます。 開発環境は関係ない？ 2015年11月16日にアップデートされた「Chro… はじめに タイトルの通りなのですが、どうやら 2015年11月15日付近にアプデorリリースしたアプリのサイズが大きく表記されているっぽいです。 例えば2015年11月15日にアップデートされた「ぼくらの秘密基地」というアプリでは、 Mac、iOS7のiPhone、iOS9のiPhoneそれぞれで確認した場合、 iOS9だけ3倍以上のサイズとなっています。 Mac iOS7 iOS9 ぼくらの秘密基地 COCOSOLA Inc. ゲーム 無料 さらに謎なのが、表記上100MBを超えているのに4G回線でダウンロード出来てしまいます。 開発環境は関係ない？ 2015年11月16日にアップデートされた「Chrome」でも、 Mac、iOS9のiPhone(iOS7はMacとほぼ同じなので省略)それぞれで確認した場合、 iOS9は15MBほどサイズが増えています。 Mac iOS9 Chrome - Google のウェブブラウザ Google, Inc. ユーティリティ 無料 Chromeも増えているということは、 開発環境が原因ではないっぽいです。(最初Unityを疑ってましたすいませんすいません) 時期？ 最終アップデートが2015年05月01日とちょっと前の「DOOORS ZERO」というアプリでは、 Mac、iOS9のiPhoneそれぞれで確認した場合、サイズは同じでした。 Mac iOS9 脱出ゲーム　DOOORS ZERO 58works ゲーム 無料 なので、最近アプデorリリースしたアプリだけで起きているような気がします。 しかし、最近アプデorリリースしたアプリ","date":1447763448,"like":5,"rt":0,"hateb":6,"sitename":"(:3[kanのメモ帳]","subimage":"http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151117/20151117202707.png","display_order":0},{"id":1073318900,"title":"Unityで作ったアプリが実機で文字化けした話【Unity】【デバッグ】","rssid":67886,"url":"http://kan-kikuchi.hatenablog.com/entry/Font_Fallback","images":["http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151106/20151106134922.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151106/20151106134928.png","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151109/20151109134145.jpg","http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151109/20151109134307.png"],"defaultimage":null,"content":"この記事でのバージョン Unity 4.6.3f1 Unity 5.1.0f3 Personal はじめに 今回はUnityエディタ上では大丈夫だったのに、実機に入れたら文字化けした。という話です。NGUIでもuGUIでもそれ以外でも、iOSでもAndroidでも起こりうる現象っぽいです。 文字化けすると以下のようにマルチバイトの文字が？になります。 Unityエディタ上 iPhone上 なお、この時使用したフォントはArialで、Unity 4.6.3f1でも5.1.0f3でも発生しました。また実機のOSはiOS9です。 原因 この記事でのバージョン Unity 4.6.3f1 Unity 5.1.0f3 Personal はじめに 今回はUnityエディタ上では大丈夫だったのに、実機に入れたら文字化けした。 という話です。NGUIでもuGUIでもそれ以外でも、iOSでもAndroidでも起こりうる現象っぽいです。 文字化けすると以下のようにマルチバイトの文字が？になります。 Unityエディタ上 iPhone上 なお、この時使用したフォントはArialで、 Unity 4.6.3f1でも5.1.0f3でも発生しました。また実機のOSはiOS9です。 原因 この文字化けの原因は以下の場合と同じです。 iOS 8.2 以降でデバイス内蔵の日本語フォントを使用すると、これに失敗し、フォールバックとして中国語フォント (Heiti) が使用されるという現象が発生します。 つまりArialにマルチバイトの文字が無く、 代わりとして別のフォントを使おうとしたら上手くいってなかったという事です。 以前は問題無かったので、iOSの仕様変更の影響でしょうかね。 対処法1 この問題への対処法で一番簡単なのは日本語が入ったフォントを使う事です。 日本語に対応したフォントを自分でインポートして使えば フォールバックが発生しないはずなので、問題も起きません。 対処法2 二つ目の対処法は先ほどの記事にもあった、 フォールバックとして使用するフォントを指定することです。 フォールバックはフォントファイルのFontNamesで指定します。 上記の画像はデフォルトとは別にArialのフォントをインポートし、 .Hiragino Kaku Gothic Interfaceをフォールバックに指定した","date":1448235312,"like":4,"rt":0,"hateb":2,"sitename":"(:3[kanのメモ帳]","subimage":"http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151106/20151106134928.png","display_order":0},{"id":1073318907,"title":"Xcode7 + iOS9 だと ATSが原因で広告が出なかった話【iOS】【デバッグ】","rssid":67886,"url":"http://kan-kikuchi.hatenablog.com/entry/ATS","images":["http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151026/20151026134453.png"],"defaultimage":null,"content":"この記事でのバージョン Xcode 7.1 はじめに Xcode7でビルドした所、iOS9で広告が表示されなくなってしまったので、色々調べてみた所、ATSが原因で通信が遮断されていました。 以下の記事を参考にATSを無効にした所、表示されました。 内容はほぼ重複していますが、一応メモとして残します。 この記事でのバージョン Xcode 7.1 はじめに Xcode7でビルドした所、iOS9で広告が表示されなくなってしまったので、 色々調べてみた所、ATSが原因で通信が遮断されていました。 以下の記事を参考にATSを無効にした所、表示されました。 内容はほぼ重複していますが、一応メモとして残します。 ATS(App Transport Security ) まずATSってなんぞやって所からですが。 ATS が有効の場合、HTTP での通信はできません。 また、Apple が推奨する必要条件を満たさない接続は強制的に接続失敗扱いになります。 との事で、セキュアにする為には有効だとは思いますが、 各方面が対応してくれるまでは使えなさそう……。 ちなみにATSで通信をブロックされると以下のようなメッセージが表示されます。 App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file. ATS無効 ATSを無効にするにはInfo.plistにNSAppTransportSecurityというDictを作り、 さらにその中にNSAllowsArbitraryLoadsというDictを作成、 さらにさらにその中にAllows Arbitrary LoadsというkeyでBool値のYESを登録するだけです。 また、NSAppTransportSecurityを使う事で個別に許可を出す事も可能なようです。 XcodeProjectUpdater Unityで開発したアプリの話になりますが、 以前作成した、Xcodeプロジェクトの自動設定を行うXcodeProjectUpdaterに ATSの自動設定を追加しました","date":1446072123,"like":3,"rt":0,"hateb":2,"sitename":"(:3[kanのメモ帳]","subimage":"http://cdn-ak.f.st-hatena.com/images/fotolife/k/kan_kikuchi/20151026/20151026134453.png","display_order":0}],"name":"人気","note":"","line":"0","sort_type":"buzz","limit":5,"template":"image-frame","theme":"","title_color":"","title_bg_color":"","article_text_color":"","article_bg_color":"","border_color":"","border_width":0,"border_radius":0,"count_color":"","count_bg_color":"","article_size":350,"image_size":{"article_image_size":"350","article_image_vertical_size":"200"},"display_adjustment":{"display_adjustment":"default","display_adjustment_size":0,"display_vertical_size":0},"target_blank":1,"display_publishdate":1,"display_share":1,"display_content":1,"admaxlite":0,"sensitive_judge":1,"sensitive_at":1450984671000,"created_at":1449148336000,"updated_at":1450359005000,"use_display_priority":true,"hide_future_article":false,"article_take_days":60,"theme_id":0,"title_bg_opacity":"0.8","count_bg_opacity":"0.8","article_vertical_size":200,"display_effect":"","font_size":"default","icon_show":false,"icon_url":"","favicon_show":false,"ranking_show":true,"new_show":false,"new_time":360,"title_show":"title","title_count":0,"margin_top":5,"margin_bottom":10,"margin_left":5,"margin_right":0,"display_publishtime":false,"rss_image_only":true,"new_color":"#ff0000","min_article_width":0,"date_color":"","col_size":0,"user_life":1851224,"mouse_over":true,"version":2.0});

